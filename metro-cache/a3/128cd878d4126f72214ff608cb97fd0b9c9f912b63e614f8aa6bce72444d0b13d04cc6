{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/objectSpread","data":{"isAsync":false}},{"name":"../utils/shallowEqual","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.default=function(t,o,s,l){if(t.forEach(function(t){var n=t.route;l&&l[n.key]&&(t.descriptor=l[n.key])}),s===o)return t;var h=new Map,v=new Map,y=new Map;t.forEach(function(t){var n=t.key;t.isStale&&y.set(n,t),h.set(n,t)});var k=new Set,x=o.routes;x.length>o.index+1&&(console.warn('StackRouter provided invalid state, index should always be the top route'),x=o.routes.slice(0,o.index+1));if(x.forEach(function(t,n){var o=u+t.key,s={index:n,isActive:!1,isStale:!1,key:o,route:t,descriptor:l&&l[t.key]};if(k.has(o))throw new Error(\"navigation.state.routes[\"+n+\"].key \\\"\"+o+\"\\\" conflicts with another route!\");k.add(o),y.has(o)&&y.delete(o),v.set(o,s)}),s){var p=s.routes;p.length>s.index+1&&(console.warn('StackRouter provided invalid state, index should always be the top route'),p=p.slice(0,s.index+1)),p.forEach(function(n,o){var s=u+n.key;if(!v.has(s)){var c=t.find(function(t){return t.route.key===n.key}),f=c?c.descriptor:l[n.key];f&&y.set(s,{index:o,isActive:!1,isStale:!0,key:s,route:n,descriptor:f})}})}var w=[],E=function(t){var n=t.key,o=h.has(n)?h.get(n):null;o&&f(o,t)?w.push(o):w.push(t)};y.forEach(E),v.forEach(E),w.sort(c);var S=0;if(w.forEach(function(t,u){var s=!t.isStale&&t.index===o.index;s!==t.isActive&&(w[u]=(0,n.default)({},t,{isActive:s})),s&&S++}),1!==S)throw new Error(\"There should always be only one scene active, not \"+S+\".\");if(w.length!==t.length)return w;if(w.some(function(n,o){return!f(t[o],n)}))return w;return t};var n=t(r(d[1])),o=t(r(d[2])),u='scene_';function s(t,n){var o=t.length-n.length;return o>0?1:o<0?-1:t>n?1:-1}function c(t,n){return t.index>n.index?1:t.index<n.index?-1:s(t.key,n.key)}function f(t,n){return t.key===n.key&&t.index===n.index&&t.isStale===n.isStale&&t.isActive===n.isActive&&l(t.route,n.route)}function l(t,n){return t&&n?t.key===n.key&&(0,o.default)(t,n):t===n}});","map":[[1,101,1,746],[1,110,1,769,"scenes"],[1,112,1,776,"nextState"],[1,114,1,786,"prevState"],[1,116,1,796,"descriptors"],[1,119,1,946],[1,122,1,809,"scenes"],[1,124,1,816,"forEach"],[1,132,1,824],[1,141,1,833,"scene"],[1,144,1,840],[1,148,1,844,"route"],[1,150,1,850,"scene"],[1,152,1,856,"route"],[1,158,1,865,"descriptors"],[1,161,1,878,"descriptors"],[1,163,1,890,"route"],[1,165,1,896,"key"],[1,172,1,902,"scene"],[1,174,1,908,"descriptor"],[1,185,1,919,"descriptors"],[1,187,1,931,"route"],[1,189,1,937,"key"],[1,197,1,949,"prevState"],[1,201,1,961,"nextState"],[1,203,1,972],[1,210,1,979,"scenes"],[1,212,1,987],[1,216,1,991,"prevScenes"],[1,218,1,1002],[1,222,1,1006,"Map"],[1,226,1,1016,"freshScenes"],[1,228,1,1028],[1,232,1,1032,"Map"],[1,236,1,1042,"staleScenes"],[1,238,1,1054],[1,242,1,1058,"Map"],[1,246,1,1064,"scenes"],[1,248,1,1071,"forEach"],[1,256,1,1079],[1,265,1,1088,"scene"],[1,268,1,1095],[1,272,1,1099,"key"],[1,274,1,1103,"scene"],[1,276,1,1109,"key"],[1,280,1,1116,"scene"],[1,282,1,1122,"isStale"],[1,291,1,1131,"staleScenes"],[1,293,1,1143,"set"],[1,297,1,1147,"key"],[1,299,1,1151,"scene"],[1,302,1,1159,"prevScenes"],[1,304,1,1170,"set"],[1,308,1,1174,"key"],[1,310,1,1178,"scene"],[1,315,1,1188],[1,319,1,1192,"nextKeys"],[1,321,1,1201],[1,325,1,1205,"Set"],[1,329,1,1215,"nextRoutes"],[1,331,1,1226,"nextState"],[1,333,1,1236,"routes"],[1,340,1,1246,"nextRoutes"],[1,342,1,1257,"length"],[1,349,1,1264,"nextState"],[1,351,1,1274,"index"],[1,357,1,1280],[1,361,1,1283,"console"],[1,369,1,1291,"warn"],[1,374,1,1296],[1,450,1,1372,"nextRoutes"],[1,452,1,1383,"nextState"],[1,454,1,1393,"routes"],[1,461,1,1400,"slice"],[1,467,1,1406],[1,469,1,1408,"nextState"],[1,471,1,1418,"index"],[1,477,1,1424],[1,481,1,1874],[1,484,1,1428,"nextRoutes"],[1,486,1,1439,"forEach"],[1,494,1,1447],[1,503,1,1456,"route"],[1,505,1,1462,"index"],[1,508,1,1469],[1,512,1,1473,"key"],[1,514,1,1477,"SCENE_KEY_PREFIX"],[1,516,1,1494,"route"],[1,518,1,1500,"key"],[1,522,1,1559,"scene"],[1,525,1,1566,"index"],[1,531,1,1572,"index"],[1,533,1,1578,"isActive"],[1,543,1,1587],[1,545,1,1593,"isStale"],[1,554,1,1601],[1,556,1,1607,"key"],[1,560,1,1611,"key"],[1,562,1,1615,"route"],[1,568,1,1621,"route"],[1,570,1,1627,"descriptor"],[1,581,1,1519,"descriptors"],[1,584,1,1532,"descriptors"],[1,586,1,1544,"route"],[1,588,1,1550,"key"],[1,594,1,1650],[1,597,1,1653,"nextKeys"],[1,599,1,1662,"has"],[1,603,1,1666,"key"],[1,606,1,1672],[1,612,1,1678],[1,616,1,1682,"Error"],[1,622,1,1688],[1,649,1,1715,"index"],[1,651,1,1721],[1,662,1,1732,"key"],[1,664,1,1736],[1,700,1,1776,"nextKeys"],[1,702,1,1785,"add"],[1,706,1,1789,"key"],[1,709,1,1797,"staleScenes"],[1,711,1,1809,"has"],[1,715,1,1813,"key"],[1,719,1,1819,"staleScenes"],[1,721,1,1831,"delete"],[1,728,1,1838,"key"],[1,731,1,1844,"freshScenes"],[1,733,1,1856,"set"],[1,737,1,1860,"key"],[1,739,1,1864,"scene"],[1,744,1,1877,"prevState"],[1,746,1,1887],[1,747,1,1888],[1,751,1,1892,"prevRoutes"],[1,753,1,1903,"prevState"],[1,755,1,1913,"routes"],[1,762,1,1923,"prevRoutes"],[1,764,1,1934,"length"],[1,771,1,1941,"prevState"],[1,773,1,1951,"index"],[1,779,1,1957],[1,783,1,1960,"console"],[1,791,1,1968,"warn"],[1,796,1,1973],[1,872,1,2049,"prevRoutes"],[1,874,1,2060,"prevRoutes"],[1,876,1,2071,"slice"],[1,882,1,2077],[1,884,1,2079,"prevState"],[1,886,1,2089,"index"],[1,892,1,2095],[1,896,1,2099,"prevRoutes"],[1,898,1,2110,"forEach"],[1,906,1,2118],[1,915,1,2127,"route"],[1,917,1,2133,"index"],[1,920,1,2140],[1,924,1,2144,"key"],[1,926,1,2148,"SCENE_KEY_PREFIX"],[1,928,1,2165,"route"],[1,930,1,2171,"key"],[1,934,1,2175],[1,938,1,2178,"freshScenes"],[1,940,1,2190,"has"],[1,944,1,2194,"key"],[1,947,1,2175],[1,948,1,2208],[1,952,1,2212,"lastScene"],[1,954,1,2222,"scenes"],[1,956,1,2229,"find"],[1,961,1,2234],[1,970,1,2243,"scene"],[1,973,1,2250],[1,980,1,2257,"scene"],[1,982,1,2263,"route"],[1,988,1,2269,"key"],[1,994,1,2275,"route"],[1,996,1,2281,"key"],[1,1002,1,2292,"descriptor"],[1,1004,1,2303,"lastScene"],[1,1006,1,2313,"lastScene"],[1,1008,1,2323,"descriptor"],[1,1019,1,2334,"descriptors"],[1,1021,1,2346,"route"],[1,1023,1,2352,"key"],[1,1028,1,2360,"descriptor"],[1,1031,1,2372,"staleScenes"],[1,1033,1,2384,"set"],[1,1037,1,2388,"key"],[1,1040,1,2393,"index"],[1,1046,1,2399,"index"],[1,1048,1,2405,"isActive"],[1,1058,1,2414],[1,1060,1,2420,"isStale"],[1,1069,1,2428],[1,1071,1,2433,"key"],[1,1075,1,2437,"key"],[1,1077,1,2441,"route"],[1,1083,1,2447,"route"],[1,1085,1,2453,"descriptor"],[1,1096,1,2464,"descriptor"],[1,1103,1,2482],[1,1107,1,2486,"nextScenes"],[1,1112,1,2504,"mergeScene"],[1,1114,1,2515],[1,1123,1,2535,"nextScene"],[1,1126,1,2546],[1,1130,1,2550,"key"],[1,1132,1,2554,"nextScene"],[1,1134,1,2564,"key"],[1,1138,1,2572,"prevScene"],[1,1140,1,2582,"prevScenes"],[1,1142,1,2593,"has"],[1,1146,1,2597,"key"],[1,1149,1,2602,"prevScenes"],[1,1151,1,2613,"get"],[1,1155,1,2617,"key"],[1,1158,1,2622],[1,1163,1,2630,"prevScene"],[1,1166,1,2641,"areScenesShallowEqual"],[1,1168,1,2663,"prevScene"],[1,1170,1,2673,"nextScene"],[1,1173,1,2685,"nextScenes"],[1,1175,1,2696,"push"],[1,1180,1,2701,"prevScene"],[1,1183,1,2718,"nextScenes"],[1,1185,1,2729,"push"],[1,1190,1,2734,"nextScene"],[1,1194,1,2748,"staleScenes"],[1,1196,1,2760,"forEach"],[1,1204,1,2768,"mergeScene"],[1,1207,1,2780,"freshScenes"],[1,1209,1,2792,"forEach"],[1,1217,1,2800,"mergeScene"],[1,1220,1,2812,"nextScenes"],[1,1222,1,2823,"sort"],[1,1227,1,2828,"compareScenes"],[1,1230,1,2843],[1,1234,1,2847,"activeScenesCount"],[1,1236,1,2865],[1,1238,1,3091],[1,1241,1,2867,"nextScenes"],[1,1243,1,2878,"forEach"],[1,1251,1,2886],[1,1260,1,2895,"scene"],[1,1262,1,2901,"ii"],[1,1265,1,2905],[1,1269,1,2909,"isActive"],[1,1272,1,2919,"scene"],[1,1274,1,2925,"isStale"],[1,1283,1,2934,"scene"],[1,1285,1,2940,"index"],[1,1293,1,2948,"nextState"],[1,1295,1,2958,"index"],[1,1301,1,2967,"isActive"],[1,1305,1,2978,"scene"],[1,1307,1,2984,"isActive"],[1,1318,1,2994,"nextScenes"],[1,1320,1,3005,"ii"],[1,1324,1,3009],[1,1326,1,3009,"_objectSpread2"],[1,1328,1,3009,"default"],[1,1340,1,3026,"scene"],[1,1343,1,3033,"isActive"],[1,1352,1,3042,"isActive"],[1,1357,1,3057,"isActive"],[1,1360,1,3067,"activeScenesCount"],[1,1366,1,3114],[1,1370,1,3094,"activeScenesCount"],[1,1372,1,3117],[1,1378,1,3123],[1,1382,1,3127,"Error"],[1,1388,1,3133],[1,1441,1,3186,"activeScenesCount"],[1,1443,1,3204],[1,1448,1,3210],[1,1451,1,3213,"nextScenes"],[1,1453,1,3224,"length"],[1,1462,1,3233,"scenes"],[1,1464,1,3240,"length"],[1,1471,1,3248],[1,1478,1,3255,"nextScenes"],[1,1480,1,3267],[1,1483,1,3270,"nextScenes"],[1,1485,1,3281,"some"],[1,1490,1,3286],[1,1499,1,3295,"scene"],[1,1501,1,3301,"index"],[1,1504,1,3308],[1,1511,1,3315,"areScenesShallowEqual"],[1,1513,1,3337,"scenes"],[1,1515,1,3344,"index"],[1,1518,1,3351,"scene"],[1,1523,1,3362],[1,1530,1,3369,"nextScenes"],[1,1532,1,3381],[1,1539,1,3388,"scenes"],[1,1542,1,0],[1,1546,1,0,"_objectSpread2"],[1,1548,1,0,"_interopRequireDefault"],[1,1550,1,0,"r"],[1,1552,1,0,"d"],[1,1554,1,0],[1,1559,1,63,"_shallowEqual"],[1,1561,1,63,"_interopRequireDefault"],[1,1563,1,63,"r"],[1,1565,1,63,"d"],[1,1567,1,63],[1,1572,1,115,"SCENE_KEY_PREFIX"],[1,1574,1,132],[1,1583,1,141],[1,1592,1,150,"compareKey"],[1,1594,1,161,"one"],[1,1596,1,165,"two"],[1,1599,1,170],[1,1603,1,174,"delta"],[1,1605,1,180,"one"],[1,1607,1,184,"length"],[1,1614,1,191,"two"],[1,1616,1,195,"length"],[1,1623,1,202],[1,1630,1,205,"delta"],[1,1632,1,211],[1,1634,1,221],[1,1636,1,227,"delta"],[1,1638,1,233],[1,1641,1,236],[1,1643,1,253,"one"],[1,1645,1,257,"two"],[1,1647,1,261],[1,1650,1,253],[1,1652,1,267],[1,1661,1,276,"compareScenes"],[1,1663,1,290,"one"],[1,1665,1,294,"two"],[1,1668,1,299],[1,1675,1,302,"one"],[1,1677,1,306,"index"],[1,1683,1,312,"two"],[1,1685,1,316,"index"],[1,1691,1,330],[1,1693,1,336,"one"],[1,1695,1,340,"index"],[1,1701,1,346,"two"],[1,1703,1,350,"index"],[1,1710,1,357],[1,1712,1,374,"compareKey"],[1,1714,1,385,"one"],[1,1716,1,389,"key"],[1,1720,1,393,"two"],[1,1722,1,397,"key"],[1,1727,1,403],[1,1736,1,412,"areScenesShallowEqual"],[1,1738,1,434,"one"],[1,1740,1,438,"two"],[1,1743,1,443],[1,1750,1,450,"one"],[1,1752,1,454,"key"],[1,1758,1,460,"two"],[1,1760,1,464,"key"],[1,1765,1,469,"one"],[1,1767,1,473,"index"],[1,1775,1,481,"two"],[1,1777,1,485,"index"],[1,1784,1,492,"one"],[1,1786,1,496,"isStale"],[1,1796,1,506,"two"],[1,1798,1,510,"isStale"],[1,1807,1,519,"one"],[1,1809,1,523,"isActive"],[1,1820,1,534,"two"],[1,1822,1,538,"isActive"],[1,1832,1,548,"areRoutesShallowEqual"],[1,1834,1,570,"one"],[1,1836,1,574,"route"],[1,1842,1,580,"two"],[1,1844,1,584,"route"],[1,1851,1,592],[1,1860,1,601,"areRoutesShallowEqual"],[1,1862,1,623,"one"],[1,1864,1,627,"two"],[1,1867,1,632],[1,1874,1,636,"one"],[1,1877,1,642,"two"],[1,1879,1,668,"one"],[1,1881,1,672,"key"],[1,1887,1,678,"two"],[1,1889,1,682,"key"],[1,1895,1,708],[1,1897,1,708,"_shallowEqual"],[1,1899,1,708,"default"],[1,1908,1,721,"one"],[1,1910,1,725,"two"],[1,1913,1,654,"one"],[1,1917,1,660,"two"]]},"type":"js/module"}]}