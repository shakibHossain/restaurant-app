{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireWildcard","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/regenerator","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@unimodules/core","data":{"isAsync":false}},{"name":"./AssetRegistry","data":{"isAsync":false}},{"name":"./AssetSources","data":{"isAsync":false}},{"name":"./AssetUris","data":{"isAsync":false}},{"name":"./EmbeddedAssets","data":{"isAsync":false}},{"name":"./ImageAssets","data":{"isAsync":false}},{"name":"./PlatformUtils","data":{"isAsync":false}},{"name":"./resolveAssetSource","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){var t=r(d[0]),n=r(d[1]);Object.defineProperty(e,\"__esModule\",{value:!0}),e.Asset=void 0;var s=n(r(d[2])),h=n(r(d[3])),o=n(r(d[4])),l=r(d[5]),u=r(d[6]),c=t(r(d[7])),f=t(r(d[8])),w=r(d[9]),y=t(r(d[10])),b=r(d[11]),p=n(r(d[12])),v=(function(){function t(n){var s=n.name,o=n.type,u=n.hash,c=void 0===u?null:u,y=n.uri,p=n.width,v=n.height;(0,h.default)(this,t),this.hash=null,this.localUri=null,this.width=null,this.height=null,this.downloading=!1,this.downloaded=!1,this._downloadCallbacks=[],this.name=s,this.type=o,this.hash=c,this.uri=y,'number'==typeof p&&(this.width=p),'number'==typeof v&&(this.height=v),b.IS_MANAGED_ENV&&c&&(this.localUri=(0,w.getEmbeddedAssetUri)(c,o),this.localUri&&(this.downloaded=!0)),'web'===l.Platform.OS&&(s||(this.name=f.getFilename(y)),o||(this.type=f.getFileExtension(y)))}return(0,o.default)(t,[{key:\"downloadAsync\",value:function(){var t,n,h,o,u=this;return s.default.async(function(c){for(;;)switch(c.prev=c.next){case 0:if(!this.downloaded){c.next=2;break}return c.abrupt(\"return\");case 2:if(!this.downloading){c.next=6;break}return c.next=5,s.default.awrap(new Promise(function(t,n){u._downloadCallbacks.push({resolve:t,reject:n})}));case 5:return c.abrupt(\"return\");case 6:if(this.downloading=!0,c.prev=7,'web'!==l.Platform.OS){c.next=22;break}if(!y.isImageType(this.type)){c.next=21;break}return c.next=12,s.default.awrap(y.getImageInfoAsync(this.uri));case 12:t=c.sent,n=t.width,h=t.height,o=t.name,this.width=n,this.height=h,this.name=o,c.next=22;break;case 21:this.name=f.getFilename(this.uri);case 22:return c.next=24,s.default.awrap((0,b.downloadAsync)(this.uri,this.hash,this.type,this.name));case 24:this.localUri=c.sent,this.downloaded=!0,this._downloadCallbacks.forEach(function(t){return(0,t.resolve)()}),c.next=33;break;case 29:throw c.prev=29,c.t0=c.catch(7),this._downloadCallbacks.forEach(function(t){return(0,t.reject)(c.t0)}),c.t0;case 33:return c.prev=33,this.downloading=!1,this._downloadCallbacks=[],c.finish(33);case 37:case\"end\":return c.stop()}},null,this,[[7,29,33,37]])}}],[{key:\"loadAsync\",value:function(n){var s=Array.isArray(n)?n:[n];return Promise.all(s.map(function(n){return t.fromModule(n).downloadAsync()}))}},{key:\"fromModule\",value:function(n){if('string'==typeof n)return t.fromURI(n);var s=(0,u.getAssetByID)(n);if(!s)throw new Error(\"Module \\\"\"+n+\"\\\" is missing from the asset registry\");if(!b.IS_MANAGED_ENV){var h=(0,p.default)(n).uri,o=new t({name:s.name,type:s.type,hash:s.hash,uri:h,width:s.width,height:s.height});return'android'!==l.Platform.OS||h.includes(':')||!s.width&&!s.height||(o.localUri=o.uri,o.downloaded=!0),t.byHash[s.hash]=o,o}return t.fromMetadata(s)}},{key:\"fromMetadata\",value:function(n){var s=n.hash;if(t.byHash[s])return t.byHash[s];if(!b.IS_MANAGED_ENV&&!t.byHash[s])throw new Error('Assets must be initialized with Asset.fromModule');var h=c.selectAssetSource(n),o=h.uri,l=h.hash,u=new t({name:n.name,type:n.type,hash:l,uri:o,width:n.width,height:n.height});return t.byHash[s]=u,u}},{key:\"fromURI\",value:function(n){if(t.byUri[n])return t.byUri[n];var s='';if(n.indexOf(';base64')>-1)s=n.split(';')[0].split('/')[1];else{var h=f.getFileExtension(n);s=h.startsWith('.')?h.substring(1):h}var o=new t({name:'',type:s,hash:null,uri:n});return t.byUri[n]=o,o}}]),t})();e.Asset=v,v.byHash={},v.byUri={}});","map":[[1,159,1,0,"_core"],[1,161,1,0,"r"],[1,163,1,0,"d"],[1,165,1,0],[1,169,2,0,"_AssetRegistry"],[1,171,2,0,"r"],[1,173,2,0,"d"],[1,175,2,0],[1,179,3,0,"AssetSources"],[1,181,3,0,"_interopRequireWildcard"],[1,183,3,0,"r"],[1,185,3,0,"d"],[1,187,3,0],[1,192,4,0,"AssetUris"],[1,194,4,0,"_interopRequireWildcard"],[1,196,4,0,"r"],[1,198,4,0,"d"],[1,200,4,0],[1,205,5,0,"_EmbeddedAssets"],[1,207,5,0,"r"],[1,209,5,0,"d"],[1,211,5,0],[1,215,6,0,"ImageAssets"],[1,217,6,0,"_interopRequireWildcard"],[1,219,6,0,"r"],[1,221,6,0,"d"],[1,223,6,0],[1,229,7,0,"_PlatformUtils"],[1,231,7,0,"r"],[1,233,7,0,"d"],[1,235,7,0],[1,240,8,0,"_resolveAssetSource2"],[1,242,8,0,"_interopRequireDefault"],[1,244,8,0,"r"],[1,246,8,0,"d"],[1,248,8,0],[1,254,9,13,"Asset"],[1,268,10,4],[1,277,10,4,"Asset"],[1,279,10,4,"_ref"],[1,282,10,65],[1,286,10,18,"name"],[1,288,10,65,"_ref"],[1,290,10,18,"name"],[1,295,10,24,"type"],[1,297,10,65,"_ref"],[1,299,10,24,"type"],[1,304,10,65,"_ref$hash"],[1,306,10,65,"_ref"],[1,308,10,30,"hash"],[1,313,10,30,"hash"],[1,320,10,65,"undefined"],[1,324,10,65,"_ref$hash"],[1,326,10,37],[1,331,10,65,"_ref$hash"],[1,333,10,43,"uri"],[1,335,10,65,"_ref"],[1,337,10,43,"uri"],[1,341,10,48,"width"],[1,343,10,65,"_ref"],[1,345,10,48,"width"],[1,351,10,55,"height"],[1,353,10,65,"_ref"],[1,355,10,55,"height"],[1,363,10,65],[1,365,10,65,"_classCallCheck2"],[1,367,10,65,"default"],[1,376,10,65,"this"],[1,381,10,65,"Asset"],[1,384,11,8,"this"],[1,389,11,13,"hash"],[1,394,11,20],[1,399,12,8,"this"],[1,404,12,13,"localUri"],[1,413,12,24],[1,418,13,8,"this"],[1,423,13,13,"width"],[1,429,13,21],[1,434,14,8,"this"],[1,439,14,13,"height"],[1,446,14,22],[1,451,15,8,"this"],[1,456,15,13,"downloading"],[1,469,15,27],[1,471,16,8,"this"],[1,476,16,13,"downloaded"],[1,488,16,26],[1,490,17,8,"this"],[1,495,17,13,"_downloadCallbacks"],[1,517,18,8,"this"],[1,522,18,13,"name"],[1,527,18,20,"name"],[1,529,19,8,"this"],[1,534,19,13,"type"],[1,539,19,20,"type"],[1,541,20,8,"this"],[1,546,20,13,"hash"],[1,551,20,20,"hash"],[1,553,21,8,"this"],[1,558,21,13,"uri"],[1,562,21,19,"uri"],[1,564,22,29],[1,581,22,19,"width"],[1,585,23,12,"this"],[1,590,23,17,"width"],[1,596,23,25,"width"],[1,599,25,30],[1,616,25,19,"height"],[1,620,26,12,"this"],[1,625,26,17,"height"],[1,632,26,26,"height"],[1,635,29,12,"IS_MANAGED_ENV"],[1,637,29,12,"IS_MANAGED_ENV"],[1,653,29,30,"hash"],[1,657,30,12,"this"],[1,662,30,17,"localUri"],[1,672,30,28],[1,674,30,28,"_EmbeddedAssets"],[1,676,30,28,"getEmbeddedAssetUri"],[1,697,30,48,"hash"],[1,699,30,54,"type"],[1,702,31,16,"this"],[1,707,31,21,"localUri"],[1,718,32,16,"this"],[1,723,32,21,"downloaded"],[1,735,32,34],[1,739,35,28],[1,747,35,12,"Platform"],[1,749,35,12,"Platform"],[1,758,35,21,"OS"],[1,763,36,17,"name"],[1,767,37,16,"this"],[1,772,37,21,"name"],[1,777,37,28,"AssetUris"],[1,779,37,38,"getFilename"],[1,791,37,50,"uri"],[1,795,39,17,"type"],[1,799,40,16,"this"],[1,804,40,21,"type"],[1,809,40,28,"AssetUris"],[1,811,40,38,"getFileExtension"],[1,828,40,55,"uri"],[1,988,126,12,"this"],[1,993,126,17,"downloaded"],[1,1057,129,12,"this"],[1,1062,129,17,"downloading"],[1,1122,130,18],[1,1126,130,22,"Promise"],[1,1134,130,30],[1,1143,130,31,"resolve"],[1,1145,130,40,"reject"],[1,1148,131,16,"_this"],[1,1150,131,21,"_downloadCallbacks"],[1,1169,131,40,"push"],[1,1175,131,47,"resolve"],[1,1183,131,47,"resolve"],[1,1185,131,56,"reject"],[1,1192,131,56,"reject"],[1,1242,135,8,"this"],[1,1247,135,13,"downloading"],[1,1260,135,27],[1,1271,137,32],[1,1279,137,16,"Platform"],[1,1281,137,16,"Platform"],[1,1290,137,25,"OS"],[1,1314,138,20,"ImageAssets"],[1,1316,138,32,"isImageType"],[1,1328,138,44,"this"],[1,1333,138,49,"type"],[1,1389,139,58,"ImageAssets"],[1,1391,139,70,"getImageInfoAsync"],[1,1409,139,88,"this"],[1,1414,139,93,"uri"],[1,1437,139,28,"width"],[1,1441,139,28,"width"],[1,1447,139,35,"height"],[1,1451,139,35,"height"],[1,1458,139,43,"name"],[1,1462,139,43,"name"],[1,1467,140,20,"this"],[1,1472,140,25,"width"],[1,1478,140,33,"width"],[1,1480,141,20,"this"],[1,1485,141,25,"height"],[1,1492,141,34,"height"],[1,1494,142,20,"this"],[1,1499,142,25,"name"],[1,1504,142,32,"name"],[1,1530,145,20,"this"],[1,1535,145,25,"name"],[1,1540,145,32,"AssetUris"],[1,1542,145,42,"getFilename"],[1,1554,145,54,"this"],[1,1559,145,59,"uri"],[1,1606,148,34],[1,1608,148,34,"_PlatformUtils"],[1,1610,148,34,"downloadAsync"],[1,1625,148,48,"this"],[1,1630,148,53,"uri"],[1,1634,148,58,"this"],[1,1639,148,63,"hash"],[1,1644,148,69,"this"],[1,1649,148,74,"type"],[1,1654,148,80,"this"],[1,1659,148,85,"name"],[1,1674,148,12,"this"],[1,1679,148,17,"localUri"],[1,1695,149,12,"this"],[1,1700,149,17,"downloaded"],[1,1712,149,30],[1,1714,150,12,"this"],[1,1719,150,17,"_downloadCallbacks"],[1,1738,150,36,"forEach"],[1,1746,150,44],[1,1755,150,44,"_ref3"],[1,1758,150,44],[1,1765,150,61,"resolve"],[1,1767,150,44,"_ref3"],[1,1769,150,47,"resolve"],[1,1838,153,12,"this"],[1,1843,153,17,"_downloadCallbacks"],[1,1862,153,36,"forEach"],[1,1870,153,44],[1,1879,153,44,"_ref4"],[1,1882,153,44],[1,1889,153,60,"reject"],[1,1891,153,44,"_ref4"],[1,1893,153,47,"reject"],[1,1901,153,66,"_context"],[1,1903,153,66,"t0"],[1,1939,157,12,"this"],[1,1944,157,17,"downloading"],[1,1957,157,31],[1,1959,158,12,"this"],[1,1964,158,17,"_downloadCallbacks"],[1,2097,44,21,"moduleId"],[1,2100,45,8],[1,2104,45,14,"moduleIds"],[1,2106,45,26,"Array"],[1,2112,45,32,"isArray"],[1,2120,45,40,"moduleId"],[1,2123,45,52,"moduleId"],[1,2126,45,64,"moduleId"],[1,2129,46,8],[1,2136,46,15,"Promise"],[1,2144,46,23,"all"],[1,2148,46,27,"moduleIds"],[1,2150,46,37,"map"],[1,2154,46,41],[1,2163,46,41,"moduleId"],[1,2166,46,49],[1,2173,46,53,"Asset"],[1,2175,46,59,"fromModule"],[1,2186,46,70,"moduleId"],[1,2189,46,80,"downloadAsync"],[1,2243,48,22,"virtualAssetModule"],[1,2246,49,8],[1,2249,49,42],[1,2266,49,19,"virtualAssetModule"],[1,2268,50,12],[1,2275,50,19,"Asset"],[1,2277,50,25,"fromURI"],[1,2285,50,33,"virtualAssetModule"],[1,2288,52,8],[1,2292,52,14,"meta"],[1,2295,52,21],[1,2297,52,21,"_AssetRegistry"],[1,2299,52,21,"getAssetByID"],[1,2313,52,34,"virtualAssetModule"],[1,2316,53,8],[1,2320,53,13,"meta"],[1,2322,54,12],[1,2328,54,18],[1,2332,54,22,"Error"],[1,2338,54,18],[1,2350,54,39,"virtualAssetModule"],[1,2352,54,18],[1,2393,58,8],[1,2397,58,13,"IS_MANAGED_ENV"],[1,2399,58,13,"IS_MANAGED_ENV"],[1,2414,58,29],[1,2415,58,29],[1,2419,59,20,"uri"],[1,2422,59,28],[1,2424,59,28,"_resolveAssetSource2"],[1,2426,59,28,"default"],[1,2435,59,47,"virtualAssetModule"],[1,2438,59,20,"uri"],[1,2442,60,18,"asset"],[1,2444,60,26],[1,2448,60,30,"Asset"],[1,2451,61,16,"name"],[1,2456,61,22,"meta"],[1,2458,61,27,"name"],[1,2463,62,16,"type"],[1,2468,62,22,"meta"],[1,2470,62,27,"type"],[1,2475,63,16,"hash"],[1,2480,63,22,"meta"],[1,2482,63,27,"hash"],[1,2487,64,16,"uri"],[1,2491,64,16,"uri"],[1,2493,65,16,"width"],[1,2499,65,23,"meta"],[1,2501,65,28,"width"],[1,2507,66,16,"height"],[1,2514,66,24,"meta"],[1,2516,66,29,"height"],[1,2525,77,12],[1,2531,72,32],[1,2543,72,16,"Platform"],[1,2545,72,16,"Platform"],[1,2554,72,25,"OS"],[1,2558,72,46,"uri"],[1,2560,72,50,"includes"],[1,2569,72,59],[1,2576,72,68,"meta"],[1,2578,72,73,"width"],[1,2586,72,82,"meta"],[1,2588,72,87,"height"],[1,2597,73,16,"asset"],[1,2599,73,22,"localUri"],[1,2608,73,33,"asset"],[1,2610,73,39,"uri"],[1,2614,74,16,"asset"],[1,2616,74,22,"downloaded"],[1,2628,74,35],[1,2631,76,12,"Asset"],[1,2633,76,18,"byHash"],[1,2640,76,25,"meta"],[1,2642,76,30,"hash"],[1,2648,76,38,"asset"],[1,2650,77,19,"asset"],[1,2652,79,8],[1,2659,79,15,"Asset"],[1,2661,79,21,"fromMetadata"],[1,2674,79,34,"meta"],[1,2714,81,24,"meta"],[1,2717,84,8],[1,2721,84,14,"metaHash"],[1,2723,84,25,"meta"],[1,2725,84,30,"hash"],[1,2730,85,8],[1,2733,85,12,"Asset"],[1,2735,85,18,"byHash"],[1,2742,85,25,"metaHash"],[1,2745,86,12],[1,2752,86,19,"Asset"],[1,2754,86,25,"byHash"],[1,2761,86,32,"metaHash"],[1,2764,88,13],[1,2768,88,18,"IS_MANAGED_ENV"],[1,2770,88,18,"IS_MANAGED_ENV"],[1,2787,88,37,"Asset"],[1,2789,88,43,"byHash"],[1,2796,88,50,"metaHash"],[1,2799,89,12],[1,2805,89,18],[1,2809,89,22,"Error"],[1,2815,89,28],[1,2867,81,30],[1,2871,81,30,"_AssetSources$selectA"],[1,2873,91,30,"AssetSources"],[1,2875,91,43,"selectAssetSource"],[1,2893,91,61,"meta"],[1,2896,91,16,"uri"],[1,2898,81,30,"_AssetSources$selectA"],[1,2900,91,16,"uri"],[1,2904,91,21,"hash"],[1,2906,81,30,"_AssetSources$selectA"],[1,2908,91,21,"hash"],[1,2913,92,14,"asset"],[1,2915,92,22],[1,2919,92,26,"Asset"],[1,2922,93,12,"name"],[1,2927,93,18,"meta"],[1,2929,93,23,"name"],[1,2934,94,12,"type"],[1,2939,94,18,"meta"],[1,2941,94,23,"type"],[1,2946,95,12,"hash"],[1,2951,95,12,"hash"],[1,2953,96,12,"uri"],[1,2957,96,12,"uri"],[1,2959,97,12,"width"],[1,2965,97,19,"meta"],[1,2967,97,24,"width"],[1,2973,98,12,"height"],[1,2980,98,20,"meta"],[1,2982,98,25,"height"],[1,2991,101,8],[1,2998,100,8,"Asset"],[1,3000,100,14,"byHash"],[1,3007,100,21,"metaHash"],[1,3010,100,33,"asset"],[1,3012,101,15,"asset"],[1,3046,103,19,"uri"],[1,3049,104,8],[1,3052,104,12,"Asset"],[1,3054,104,18,"byUri"],[1,3060,104,24,"uri"],[1,3063,105,12],[1,3070,105,19,"Asset"],[1,3072,105,25,"byUri"],[1,3078,105,31,"uri"],[1,3081,108,8],[1,3085,108,12,"type"],[1,3087,108,19],[1,3090,109,8],[1,3093,109,12,"uri"],[1,3095,109,16,"indexOf"],[1,3103,109,24],[1,3115,109,12],[1,3117,110,12,"type"],[1,3119,110,19,"uri"],[1,3121,110,23,"split"],[1,3127,110,29],[1,3132,110,34],[1,3135,110,37,"split"],[1,3141,110,43],[1,3146,110,48],[1,3153,112,13],[1,3154,113,12],[1,3158,113,18,"extension"],[1,3160,113,30,"AssetUris"],[1,3162,113,40,"getFileExtension"],[1,3179,113,57,"uri"],[1,3182,114,12,"type"],[1,3184,114,19,"extension"],[1,3186,114,29,"startsWith"],[1,3197,114,40],[1,3202,114,47,"extension"],[1,3204,114,57,"substring"],[1,3214,114,67],[1,3217,114,72,"extension"],[1,3219,116,8],[1,3223,116,14,"asset"],[1,3225,116,22],[1,3229,116,26,"Asset"],[1,3232,117,12,"name"],[1,3237,117,18],[1,3240,118,12,"type"],[1,3245,118,12,"type"],[1,3247,119,12,"hash"],[1,3252,119,18],[1,3257,120,12,"uri"],[1,3261,120,12,"uri"],[1,3265,123,8],[1,3272,122,8,"Asset"],[1,3274,122,14,"byUri"],[1,3280,122,20,"uri"],[1,3283,122,27,"asset"],[1,3285,123,15,"asset"],[1,3307,162,0,"Asset"],[1,3309,162,6,"byHash"],[1,3319,163,0,"Asset"],[1,3321,163,6,"byUri"]]},"type":"js/module"}]}