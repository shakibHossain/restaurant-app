{"dependencies":[{"name":"@babel/runtime/helpers/objectWithoutProperties","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/possibleConstructorReturn","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/getPrototypeOf","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/inherits","data":{"isAsync":false}},{"name":"../Blob/Blob","data":{"isAsync":false}},{"name":"event-target-shim","data":{"isAsync":false}},{"name":"../EventEmitter/NativeEventEmitter","data":{"isAsync":false}},{"name":"../Blob/BlobManager","data":{"isAsync":false}},{"name":"../BatchedBridge/NativeModules","data":{"isAsync":false}},{"name":"../Utilities/Platform","data":{"isAsync":false}},{"name":"./WebSocketEvent","data":{"isAsync":false}},{"name":"base64-js","data":{"isAsync":false}},{"name":"../Utilities/binaryToBase64","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function(g,r,i,a,m,e,d){'use strict';var t=r(d[0]),s=r(d[1]),n=r(d[2]),o=r(d[3]),c=r(d[4]),l=r(d[5]),u=r(d[6]),b=r(d[7]),h=r(d[8]),y=r(d[9]),f=r(d[10]),v=(r(d[11]),r(d[12])),p=r(d[13]),_=r(d[14]),k=r(d[15]),E=f.WebSocketModule,S=0,I=1,w=2,N=3,O=0,C=(function(b){function f(n,l,u){var b;s(this,f),(b=o(this,c(f).call(this))).CONNECTING=S,b.OPEN=I,b.CLOSING=w,b.CLOSED=N,b.readyState=S,'string'==typeof l&&(l=[l]);var y=u||{},v=y.headers,p=void 0===v?{}:v,_=t(y,[\"headers\"]);if(_&&'string'==typeof _.origin&&(console.warn('Specifying `origin` as a WebSocket connection option is deprecated. Include it under `headers` instead.'),p.origin=_.origin,delete _.origin),Object.keys(_).length>0&&console.warn('Unrecognized WebSocket connection option(s) `'+Object.keys(_).join('`, `')+\"`. Did you mean to put these under `headers`?\"),Array.isArray(l)||(l=null),!f.isAvailable)throw new Error(\"Cannot initialize WebSocket module. Native module WebSocketModule is missing.\");return b._eventEmitter=new h(E),b._socketId=O++,b._registerEvents(),E.connect(n,l,{headers:p},b._socketId),b}return l(f,b),n(f,[{key:\"close\",value:function(t,s){this.readyState!==this.CLOSING&&this.readyState!==this.CLOSED&&(this.readyState=this.CLOSING,this._close(t,s))}},{key:\"send\",value:function(t){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');if(t instanceof u)return k(y.isAvailable,'Native module BlobModule is required for blob support'),void y.sendOverSocket(t,this._socketId);if('string'!=typeof t){if(!(t instanceof ArrayBuffer||ArrayBuffer.isView(t)))throw new Error('Unsupported data type');E.sendBinary(_(t),this._socketId)}else E.send(t,this._socketId)}},{key:\"ping\",value:function(){if(this.readyState===this.CONNECTING)throw new Error('INVALID_STATE_ERR');E.ping(this._socketId)}},{key:\"_close\",value:function(t,s){var n='number'==typeof t?t:1e3,o='string'==typeof s?s:'';E.close(n,o,this._socketId),y.isAvailable&&'blob'===this._binaryType&&y.removeWebSocketHandler(this._socketId)}},{key:\"_unregisterEvents\",value:function(){this._subscriptions.forEach(function(t){return t.remove()}),this._subscriptions=[]}},{key:\"_registerEvents\",value:function(){var t=this;this._subscriptions=[this._eventEmitter.addListener('websocketMessage',function(s){if(s.id===t._socketId){var n=s.data;switch(s.type){case'binary':n=p.toByteArray(s.data).buffer;break;case'blob':n=y.createFromOptions(s.data)}t.dispatchEvent(new v('message',{data:n}))}}),this._eventEmitter.addListener('websocketOpen',function(s){s.id===t._socketId&&(t.readyState=t.OPEN,t.dispatchEvent(new v('open')))}),this._eventEmitter.addListener('websocketClosed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new v('close',{code:s.code,reason:s.reason})),t._unregisterEvents(),t.close())}),this._eventEmitter.addListener('websocketFailed',function(s){s.id===t._socketId&&(t.readyState=t.CLOSED,t.dispatchEvent(new v('error',{message:s.message})),t.dispatchEvent(new v('close',{message:s.message})),t._unregisterEvents(),t.close())})]}},{key:\"binaryType\",get:function(){return this._binaryType},set:function(t){if('blob'!==t&&'arraybuffer'!==t)throw new Error(\"binaryType must be either 'blob' or 'arraybuffer'\");'blob'!==this._binaryType&&'blob'!==t||(k(y.isAvailable,'Native module BlobModule is required for blob support'),'blob'===t?y.addWebSocketHandler(this._socketId):y.removeWebSocketHandler(this._socketId)),this._binaryType=t}}]),f})(b.apply(void 0,['close','error','message','open']));C.CONNECTING=S,C.OPEN=I,C.CLOSING=w,C.CLOSED=N,C.isAvailable=!!E,m.exports=C});","map":[[1,28,11,0],[1,105,13,6,"Blob"],[1,107,13,13,"require"],[1,109,13,20,"d"],[1,111,13,20],[1,115,14,6,"EventTarget"],[1,117,14,20,"require"],[1,119,14,27,"d"],[1,121,14,27],[1,125,15,6,"NativeEventEmitter"],[1,127,15,27,"require"],[1,129,15,34,"d"],[1,131,15,34],[1,135,16,6,"BlobManager"],[1,137,16,20,"require"],[1,139,16,27,"d"],[1,141,16,27],[1,145,17,6,"NativeModules"],[1,147,17,22,"require"],[1,149,17,29,"d"],[1,151,17,29],[1,156,19,6,"WebSocketEvent"],[1,159,18,17,"require"],[1,161,18,24,"d"],[1,163,18,24],[1,168,19,23,"require"],[1,170,19,30,"d"],[1,172,19,30],[1,178,24,6,"base64"],[1,180,24,15,"require"],[1,182,24,22,"d"],[1,184,24,22],[1,189,25,6,"binaryToBase64"],[1,191,25,23,"require"],[1,193,25,30,"d"],[1,195,25,30],[1,200,26,6,"invariant"],[1,202,26,18,"require"],[1,204,26,25,"d"],[1,206,26,25],[1,211,28,7,"WebSocketModule"],[1,213,28,26,"NativeModules"],[1,215,28,7,"WebSocketModule"],[1,231,46,6,"CONNECTING"],[1,233,46,19],[1,235,47,6,"OPEN"],[1,237,47,13],[1,239,48,6,"CLOSING"],[1,241,48,16],[1,243,49,6,"CLOSED"],[1,245,49,15],[1,247,55,4,"nextWebSocketId"],[1,249,55,22],[1,251,63,6,"WebSocket"],[1,266,94,2],[1,275,94,2,"WebSocket"],[1,277,95,4,"url"],[1,279,96,4,"protocols"],[1,281,97,4,"options"],[1,284,98,4],[1,288,98,4,"_this"],[1,290,98,4,"_classCallCheck"],[1,292,98,4,"this"],[1,297,98,4,"WebSocket"],[1,301,99,4,"_this"],[1,303,99,4,"_possibleConstructorReturn"],[1,305,99,4,"this"],[1,310,99,4,"_getPrototypeOf"],[1,312,99,4,"WebSocket"],[1,315,99,4,"call"],[1,320,99,4,"this"],[1,328,69,2,"CONNECTING"],[1,339,69,23,"CONNECTING"],[1,341,98,4,"_this"],[1,343,70,2,"OPEN"],[1,348,70,17,"OPEN"],[1,350,98,4,"_this"],[1,352,71,2,"CLOSING"],[1,360,71,20,"CLOSING"],[1,362,98,4,"_this"],[1,364,72,2,"CLOSED"],[1,371,72,19,"CLOSED"],[1,373,98,4,"_this"],[1,375,87,2,"readyState"],[1,386,87,23,"CONNECTING"],[1,388,100,29],[1,405,100,15,"protocols"],[1,409,101,6,"protocols"],[1,412,101,19,"protocols"],[1,416,98,4],[1,420,98,4,"_ref"],[1,422,104,44,"options"],[1,428,98,4,"_ref$headers"],[1,430,98,4,"_ref"],[1,432,104,11,"headers"],[1,440,104,11,"headers"],[1,447,98,4,"undefined"],[1,451,98,4,"_ref$headers"],[1,456,98,4,"_ref$headers"],[1,458,104,28,"unrecognized"],[1,460,98,4,"_objectWithoutProperties"],[1,462,98,4,"_ref"],[1,465,98,4],[1,477,138,4],[1,480,110,8,"unrecognized"],[1,483,110,55],[1,500,110,31,"unrecognized"],[1,502,110,44,"origin"],[1,511,111,6,"console"],[1,519,111,14,"warn"],[1,524,112,8],[1,631,117,6,"headers"],[1,633,117,14,"origin"],[1,640,117,23,"unrecognized"],[1,642,117,36,"origin"],[1,656,121,13,"unrecognized"],[1,658,121,26,"origin"],[1,666,125,8,"Object"],[1,673,125,15,"keys"],[1,678,125,20,"unrecognized"],[1,681,125,34,"length"],[1,688,125,43],[1,691,126,6,"console"],[1,699,126,14,"warn"],[1,704,127,8],[1,752,128,10,"Object"],[1,759,128,17,"keys"],[1,764,128,22,"unrecognized"],[1,767,128,36,"join"],[1,772,128,41],[1,780,129,10],[1,829,134,9,"Array"],[1,835,134,15,"isArray"],[1,843,134,23,"protocols"],[1,848,135,6,"protocols"],[1,850,135,18],[1,857,138,9,"WebSocket"],[1,859,138,19,"isAvailable"],[1,871,139,6],[1,877,139,12],[1,881,139,16,"Error"],[1,887,139,12],[1,968,98,4],[1,975,145,4,"_this"],[1,977,145,9,"_eventEmitter"],[1,991,145,25],[1,995,145,29,"NativeEventEmitter"],[1,997,145,48,"WebSocketModule"],[1,1000,146,4,"_this"],[1,1002,146,9,"_socketId"],[1,1012,146,21,"nextWebSocketId"],[1,1016,147,4,"_this"],[1,1018,147,9,"_registerEvents"],[1,1036,148,4,"WebSocketModule"],[1,1038,148,20,"connect"],[1,1046,149,6,"url"],[1,1048,150,6,"protocols"],[1,1051,151,7,"headers"],[1,1059,151,7,"headers"],[1,1062,152,6,"_this"],[1,1064,152,11,"_socketId"],[1,1075,98,4,"_this"],[1,1124,178,8,"code"],[1,1126,178,23,"reason"],[1,1129,179,8,"this"],[1,1134,179,13,"readyState"],[1,1147,179,28,"this"],[1,1152,179,33,"CLOSING"],[1,1161,179,44,"this"],[1,1166,179,49,"readyState"],[1,1179,179,64,"this"],[1,1184,179,69,"CLOSED"],[1,1193,183,4,"this"],[1,1198,183,9,"readyState"],[1,1209,183,22,"this"],[1,1214,183,27,"CLOSING"],[1,1222,184,4,"this"],[1,1227,184,9,"_close"],[1,1234,184,16,"code"],[1,1236,184,22,"reason"],[1,1269,187,7,"data"],[1,1272,188,4],[1,1275,188,8,"this"],[1,1280,188,13,"readyState"],[1,1293,188,28,"this"],[1,1298,188,33,"CONNECTING"],[1,1309,189,6],[1,1315,189,12],[1,1319,189,16,"Error"],[1,1325,189,22],[1,1346,192,4],[1,1349,192,8,"data"],[1,1362,192,24,"Blob"],[1,1364,198,6],[1,1371,193,6,"invariant"],[1,1373,194,8,"BlobManager"],[1,1375,194,20,"isAvailable"],[1,1387,195,8],[1,1449,197,6,"BlobManager"],[1,1451,197,18,"sendOverSocket"],[1,1466,197,33,"data"],[1,1468,197,39,"this"],[1,1473,197,44,"_socketId"],[1,1484,201,4],[1,1487,201,24],[1,1504,201,15,"data"],[1,1506,201,4],[1,1507,206,4],[1,1512,206,8,"data"],[1,1525,206,24,"ArrayBuffer"],[1,1538,206,39,"ArrayBuffer"],[1,1550,206,51,"isView"],[1,1557,206,58,"data"],[1,1561,211,4],[1,1567,211,10],[1,1571,211,14,"Error"],[1,1577,211,20],[1,1602,207,6,"WebSocketModule"],[1,1604,207,22,"sendBinary"],[1,1615,207,33,"binaryToBase64"],[1,1617,207,48,"data"],[1,1620,207,55,"this"],[1,1625,207,60,"_socketId"],[1,1641,202,6,"WebSocketModule"],[1,1643,202,22,"send"],[1,1648,202,27,"data"],[1,1650,202,33,"this"],[1,1655,202,38,"_socketId"],[1,1697,215,4],[1,1700,215,8,"this"],[1,1705,215,13,"readyState"],[1,1718,215,28,"this"],[1,1723,215,33,"CONNECTING"],[1,1734,216,6],[1,1740,216,12],[1,1744,216,16,"Error"],[1,1750,216,22],[1,1771,219,4,"WebSocketModule"],[1,1773,219,20,"ping"],[1,1778,219,25,"this"],[1,1783,219,30,"_socketId"],[1,1825,222,9,"code"],[1,1827,222,24,"reason"],[1,1830,225,6],[1,1834,225,12,"statusCode"],[1,1836,225,41],[1,1853,225,32,"code"],[1,1855,225,52,"code"],[1,1857,51,21],[1,1861,226,12,"closeReason"],[1,1863,226,44],[1,1880,226,33,"reason"],[1,1882,226,55,"reason"],[1,1884,226,64],[1,1887,227,6,"WebSocketModule"],[1,1889,227,22,"close"],[1,1895,227,28,"statusCode"],[1,1897,227,40,"closeReason"],[1,1899,227,53,"this"],[1,1904,227,58,"_socketId"],[1,1915,232,8,"BlobManager"],[1,1917,232,20,"isAvailable"],[1,1930,232,56],[1,1939,232,35,"this"],[1,1944,232,40,"_binaryType"],[1,1957,233,6,"BlobManager"],[1,1959,233,18,"removeWebSocketHandler"],[1,1982,233,41,"this"],[1,1987,233,46,"_socketId"],[1,2042,238,4,"this"],[1,2047,238,9,"_subscriptions"],[1,2062,238,24,"forEach"],[1,2070,238,32],[1,2079,238,32,"e"],[1,2082,238,33],[1,2089,238,37,"e"],[1,2091,238,39,"remove"],[1,2102,239,4,"this"],[1,2107,239,9,"_subscriptions"],[1,2167,242,26],[1,2171,242,26,"_this2"],[1,2173,242,26,"this"],[1,2178,243,4,"this"],[1,2183,243,9,"_subscriptions"],[1,2199,244,6,"this"],[1,2204,244,11,"_eventEmitter"],[1,2218,244,25,"addListener"],[1,2230,244,37],[1,2249,244,57],[1,2258,244,57,"ev"],[1,2261,245,8],[1,2264,245,12,"ev"],[1,2266,245,15,"id"],[1,2271,245,22,"_this2"],[1,2273,245,27,"_socketId"],[1,2283,245,8],[1,2284,248,8],[1,2288,248,12,"data"],[1,2290,248,19,"ev"],[1,2292,248,22,"data"],[1,2297,249,8],[1,2304,249,16,"ev"],[1,2306,249,19,"type"],[1,2312,250,10],[1,2316,250,15],[1,2325,251,12,"data"],[1,2327,251,19,"base64"],[1,2329,251,26,"toByteArray"],[1,2341,251,38,"ev"],[1,2343,251,41,"data"],[1,2349,251,47,"buffer"],[1,2356,252,12],[1,2362,253,10],[1,2366,253,15],[1,2373,254,12,"data"],[1,2375,254,19,"BlobManager"],[1,2377,254,31,"createFromOptions"],[1,2395,254,49,"ev"],[1,2397,254,52,"data"],[1,2403,257,8,"_this2"],[1,2405,257,13,"dispatchEvent"],[1,2419,257,27],[1,2423,257,31,"WebSocketEvent"],[1,2425,257,46],[1,2436,257,58,"data"],[1,2441,257,58,"data"],[1,2449,259,6,"this"],[1,2454,259,11,"_eventEmitter"],[1,2468,259,25,"addListener"],[1,2480,259,37],[1,2496,259,54],[1,2505,259,54,"ev"],[1,2508,260,12,"ev"],[1,2510,260,15,"id"],[1,2515,260,22,"_this2"],[1,2517,260,27,"_socketId"],[1,2529,263,8,"_this2"],[1,2531,263,13,"readyState"],[1,2542,263,26,"_this2"],[1,2544,263,31,"OPEN"],[1,2549,264,8,"_this2"],[1,2551,264,13,"dispatchEvent"],[1,2565,264,27],[1,2569,264,31,"WebSocketEvent"],[1,2571,264,46],[1,2583,266,6,"this"],[1,2588,266,11,"_eventEmitter"],[1,2602,266,25,"addListener"],[1,2614,266,37],[1,2632,266,56],[1,2641,266,56,"ev"],[1,2644,267,12,"ev"],[1,2646,267,15,"id"],[1,2651,267,22,"_this2"],[1,2653,267,27,"_socketId"],[1,2665,270,8,"_this2"],[1,2667,270,13,"readyState"],[1,2678,270,26,"_this2"],[1,2680,270,31,"CLOSED"],[1,2687,271,8,"_this2"],[1,2689,271,13,"dispatchEvent"],[1,2703,272,10],[1,2707,272,14,"WebSocketEvent"],[1,2709,272,29],[1,2718,273,12,"code"],[1,2723,273,18,"ev"],[1,2725,273,21,"code"],[1,2730,274,12,"reason"],[1,2737,274,20,"ev"],[1,2739,274,23,"reason"],[1,2749,277,8,"_this2"],[1,2751,277,13,"_unregisterEvents"],[1,2771,278,8,"_this2"],[1,2773,278,13,"close"],[1,2784,280,6,"this"],[1,2789,280,11,"_eventEmitter"],[1,2803,280,25,"addListener"],[1,2815,280,37],[1,2833,280,56],[1,2842,280,56,"ev"],[1,2845,281,12,"ev"],[1,2847,281,15,"id"],[1,2852,281,22,"_this2"],[1,2854,281,27,"_socketId"],[1,2866,284,8,"_this2"],[1,2868,284,13,"readyState"],[1,2879,284,26,"_this2"],[1,2881,284,31,"CLOSED"],[1,2888,285,8,"_this2"],[1,2890,285,13,"dispatchEvent"],[1,2904,286,10],[1,2908,286,14,"WebSocketEvent"],[1,2910,286,29],[1,2919,287,12,"message"],[1,2927,287,21,"ev"],[1,2929,287,24,"message"],[1,2940,290,8,"_this2"],[1,2942,290,13,"dispatchEvent"],[1,2956,291,10],[1,2960,291,14,"WebSocketEvent"],[1,2962,291,29],[1,2971,292,12,"message"],[1,2979,292,21,"ev"],[1,2981,292,24,"message"],[1,2992,295,8,"_this2"],[1,2994,295,13,"_unregisterEvents"],[1,3014,296,8,"_this2"],[1,3016,296,13,"close"],[1,3063,157,4],[1,3070,157,11,"this"],[1,3075,157,16,"_binaryType"],[1,3101,160,17,"binaryType"],[1,3104,161,4],[1,3107,161,23],[1,3116,161,8,"binaryType"],[1,3119,161,48],[1,3135,161,33,"binaryType"],[1,3137,162,6],[1,3143,162,12],[1,3147,162,16,"Error"],[1,3153,162,22],[1,3206,164,29],[1,3215,164,8,"this"],[1,3220,164,13,"_binaryType"],[1,3233,164,54],[1,3242,164,39,"binaryType"],[1,3246,165,6,"invariant"],[1,3248,166,8,"BlobManager"],[1,3250,166,20,"isAvailable"],[1,3262,167,8],[1,3319,169,25],[1,3328,169,10,"binaryType"],[1,3330,170,8,"BlobManager"],[1,3332,170,20,"addWebSocketHandler"],[1,3352,170,40,"this"],[1,3357,170,45,"_socketId"],[1,3368,172,8,"BlobManager"],[1,3370,172,20,"removeWebSocketHandler"],[1,3393,172,43,"this"],[1,3398,172,48,"_socketId"],[1,3410,175,4,"this"],[1,3415,175,9,"_binaryType"],[1,3427,175,23,"binaryType"],[1,3437,63,24,"EventTarget"],[1,3439,63,35,"apply"],[1,3450,63,24,"undefined"],[1,3453,53,26],[1,3461,53,35],[1,3469,53,44],[1,3479,53,55],[1,3489,63,6,"WebSocket"],[1,3491,64,9,"CONNECTING"],[1,3502,64,22,"CONNECTING"],[1,3504,63,6,"WebSocket"],[1,3506,65,9,"OPEN"],[1,3511,65,16,"OPEN"],[1,3513,63,6,"WebSocket"],[1,3515,66,9,"CLOSING"],[1,3523,66,19,"CLOSING"],[1,3525,63,6,"WebSocket"],[1,3527,67,9,"CLOSED"],[1,3534,67,18,"CLOSED"],[1,3536,63,6,"WebSocket"],[1,3538,92,9,"isAvailable"],[1,3552,92,34,"WebSocketModule"],[1,3554,302,0,"module"],[1,3556,302,7,"exports"],[1,3564,302,17,"WebSocket"]]},"type":"js/module"}]}